<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-------------------------------------------------------------->
<!-- qLibc Project                                            -->
<!--                                                          -->
<!--            Copyright (c) The qDecoder Project            -->
<!--                 http://www.qdecoder.org                  -->
<!-------------------------------------------------------------->

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <title>qlibcext: extensions/qdatabase.c File Reference</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<center><h1>qLibc API Reference</h1></center>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>extensions/qdatabase.c File Reference</h1>  </div>
</div>
<div class="contents">
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Database wrapper. </p>
<p>Database header files should be included prior to qlibcext.h in your source codes like below.</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">   #include &quot;mysql.h&quot;</span>
<span class="preprocessor">   #include &quot;qlibcext.h&quot;</span>
</pre></div><div class="fragment"><pre class="fragment">   qdb_t *db = NULL;
   qdbresult_t *result = NULL;

   db = <a class="code" href="qdatabase_8c.html#a5feeb5a7ad2b8531d2bdc2d5e94e344f" title="Initialize internal connector structure.">qdb</a>(<span class="stringliteral">&quot;MYSQL&quot;</span>, <span class="stringliteral">&quot;dbhost.qdecoder.org&quot;</span>, 3306,
            <span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;secret&quot;</span>, <span class="stringliteral">&quot;sampledb&quot;</span>, <span class="keyword">true</span>);
   <span class="keywordflow">if</span> (db == NULL) {
     printf(<span class="stringliteral">&quot;ERROR: Not supported database type.\n&quot;</span>);
     <span class="keywordflow">return</span> -1;
   }

   <span class="comment">// try to connect</span>
   <span class="keywordflow">if</span> (db-&gt;open(db) == <span class="keyword">false</span>) {
     printf(<span class="stringliteral">&quot;WARNING: Can&#39;t connect to database.\n&quot;</span>);
     <span class="keywordflow">return</span> -1;
   }

   <span class="comment">// get results</span>
   result = db-&gt;execute_query(db, <span class="stringliteral">&quot;SELECT name, population FROM City&quot;</span>);
   <span class="keywordflow">if</span> (result != NULL) {
     printf(<span class="stringliteral">&quot;COLS : %d , ROWS : %d\n&quot;</span>,
            result-&gt;get_cols(result), result-&gt;get_rows(result));
     <span class="keywordflow">while</span> (result-&gt;get_next(result) == <span class="keyword">true</span>) {
       <span class="keywordtype">char</span> *pszName = result-&gt;get_str(result, <span class="stringliteral">&quot;name&quot;</span>);
       <span class="keywordtype">int</span>   nPopulation = result-&gt;get_int(result, <span class="stringliteral">&quot;population&quot;</span>);
       printf(<span class="stringliteral">&quot;Country : %s , Population : %d\n&quot;</span>, pszName, nPopulation);
     }
     result-&gt;free(result);
   }

   <span class="comment">// close connection</span>
   db-&gt;close(db);

   <span class="comment">// free db object</span>
   db-&gt;free(db);
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>Use "--enable-threadsafe" configure script option to use under multi-threaded environments. </dd></dl>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">qdb_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a5feeb5a7ad2b8531d2bdc2d5e94e344f">qdb</a> (const char *dbtype, const char *addr, int port, const char *username, const char *password, const char *database, bool autocommit)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize internal connector structure.  <a href="#a5feeb5a7ad2b8531d2bdc2d5e94e344f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#ae90a2206952d27df4a58995628741134">open_</a> (qdb_t *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;open(): Connect to database server  <a href="#ae90a2206952d27df4a58995628741134"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a89fc888110ad23e6358d155e2c9b6a3b">close_</a> (qdb_t *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;close(): Disconnect from database server  <a href="#a89fc888110ad23e6358d155e2c9b6a3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a42069ce53c9e45b7283e9e44a7e021d9">execute_update</a> (qdb_t *db, const char *query)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a42069ce53c9e45b7283e9e44a7e021d9" title="qdb-&gt;execute_update(): Executes the update DML">execute_update()</a>: Executes the update DML  <a href="#a42069ce53c9e45b7283e9e44a7e021d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a99e372b7dd8e2d9c2bb4f762cc8dd5aa">execute_updatef</a> (qdb_t *db, const char *format,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a99e372b7dd8e2d9c2bb4f762cc8dd5aa" title="qdb-&gt;execute_updatef(): Executes the formatted update DML">execute_updatef()</a>: Executes the formatted update DML  <a href="#a99e372b7dd8e2d9c2bb4f762cc8dd5aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static qdbresult_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#abe4e5330b68b3fc9ff94b086939dba82">execute_query</a> (qdb_t *db, const char *query)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#abe4e5330b68b3fc9ff94b086939dba82" title="qdb-&gt;execute_query(): Executes the query">execute_query()</a>: Executes the query  <a href="#abe4e5330b68b3fc9ff94b086939dba82"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static qdbresult_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a6fde99c74f91137ac554244ac60344be">execute_queryf</a> (qdb_t *db, const char *format,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a6fde99c74f91137ac554244ac60344be" title="qdb-&gt;execute_queryf(): Executes the formatted query">execute_queryf()</a>: Executes the formatted query  <a href="#a6fde99c74f91137ac554244ac60344be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a2f27adbcda036187a4714e5bcd3a247e">begin_tran</a> (qdb_t *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a2f27adbcda036187a4714e5bcd3a247e" title="qdb-&gt;begin_tran(): Start transaction">begin_tran()</a>: Start transaction  <a href="#a2f27adbcda036187a4714e5bcd3a247e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a3386b5894d03e2f48deecb0b7c0632ea">commit</a> (qdb_t *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a3386b5894d03e2f48deecb0b7c0632ea" title="qdb-&gt;commit(): Commit transaction">commit()</a>: Commit transaction  <a href="#a3386b5894d03e2f48deecb0b7c0632ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a6ee4a69fbc4ecf80e795d6b6b3750ca7">rollback</a> (qdb_t *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;rellback(): Roll-back and abort transaction  <a href="#a6ee4a69fbc4ecf80e795d6b6b3750ca7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a5dc988c35746fe8a792702523abc66b3">set_fetchtype</a> (qdb_t *db, bool fromdb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a5dc988c35746fe8a792702523abc66b3" title="qdb-&gt;set_fetchtype(): Set result fetching type">set_fetchtype()</a>: Set result fetching type  <a href="#a5dc988c35746fe8a792702523abc66b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a0598e067ed6b749c9df042cd7bc83f5c">get_conn_status</a> (qdb_t *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a0598e067ed6b749c9df042cd7bc83f5c" title="qdb-&gt;get_conn_status(): Get last connection status">get_conn_status()</a>: Get last connection status  <a href="#a0598e067ed6b749c9df042cd7bc83f5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a998f1143e4b00ff847f120e34a0efc0d">ping</a> (qdb_t *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a998f1143e4b00ff847f120e34a0efc0d" title="qdb-&gt;ping(): Checks whether the connection to the server is working.">ping()</a>: Checks whether the connection to the server is working.  <a href="#a998f1143e4b00ff847f120e34a0efc0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a11f5b1c5de493c27e1d396f7593408a0">get_error</a> (qdb_t *db, unsigned int *errorno)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;<a class="el" href="qdatabase_8c.html#a11f5b1c5de493c27e1d396f7593408a0" title="qdb-&gt;get_error(): Get error number and message">get_error()</a>: Get error number and message  <a href="#a11f5b1c5de493c27e1d396f7593408a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#afe5578f18ea12e68e96a80b91bd9be9d">free_</a> (qdb_t *db)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdb-&gt;free(): De-allocate qdb_t structure  <a href="#afe5578f18ea12e68e96a80b91bd9be9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a3c32ab62afb92fb6a55cfaff7c92bf42">_resultGetStr</a> (qdbresult_t *result, const char *field)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;get_str(): Get the result as string by field name  <a href="#a3c32ab62afb92fb6a55cfaff7c92bf42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#ae3559441aaa0ae5f19965612dccca8d5">_resultGetStrAt</a> (qdbresult_t *result, int idx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;get_str_at(): Get the result as string by column number  <a href="#ae3559441aaa0ae5f19965612dccca8d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#aa7608c9e6913b4d3c71d62cd43073fd1">_resultGetInt</a> (qdbresult_t *result, const char *field)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;get_int(): Get the result as integer by field name  <a href="#aa7608c9e6913b4d3c71d62cd43073fd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a6b5beda54ba78647276bc180f65138ca">_resultGetIntAt</a> (qdbresult_t *result, int idx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;get_int_at(): Get the result as integer by column number  <a href="#a6b5beda54ba78647276bc180f65138ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#aeb86d8858bb8ea5dd06e052f8f3e9a09">_resultGetNext</a> (qdbresult_t *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;get_next(): Retrieves the next row of a result set  <a href="#aeb86d8858bb8ea5dd06e052f8f3e9a09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a95d88451db51492ae6122701ce56b94d">result_get_cols</a> (qdbresult_t *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;get_cols(): Get the number of columns in the result set  <a href="#a95d88451db51492ae6122701ce56b94d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a26f8b55348c57f467d64c002ab306ff6">result_get_rows</a> (qdbresult_t *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;get_rows(): Get the number of rows in the result set  <a href="#a26f8b55348c57f467d64c002ab306ff6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a396a7328f7fb499f89c2652598185dc8">result_get_row</a> (qdbresult_t *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;get_row(): Get the current row number  <a href="#a396a7328f7fb499f89c2652598185dc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="qdatabase_8c.html#a4ab66a07fa82b706895e1b2c19fcd501">result_free</a> (qdbresult_t *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">qdbresult-&gt;free(): De-allocate the result  <a href="#a4ab66a07fa82b706895e1b2c19fcd501"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5feeb5a7ad2b8531d2bdc2d5e94e344f"></a><!-- doxytag: member="qdatabase.c::qdb" ref="a5feeb5a7ad2b8531d2bdc2d5e94e344f" args="(const char *dbtype, const char *addr, int port, const char *username, const char *password, const char *database, bool autocommit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qdb_t* qdb </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dbtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>autocommit</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize internal connector structure. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dbtype</em>&nbsp;</td><td>database server type. currently "MYSQL" is only supported </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>ip or fqdn address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>port number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>username</em>&nbsp;</td><td>database username </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td>database password </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>database</em>&nbsp;</td><td>database server type. currently "MYSQL" is only supported </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>autocommit</em>&nbsp;</td><td>sets autocommit mode on if autocommit is true, off if autocommit is false</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer of qdb_t object in case of successful, otherwise returns NULL.</dd></dl>
<div class="fragment"><pre class="fragment">   qdb_t *db = <a class="code" href="qdatabase_8c.html#a5feeb5a7ad2b8531d2bdc2d5e94e344f" title="Initialize internal connector structure.">qdb</a>(<span class="stringliteral">&quot;MYSQL&quot;</span>,
                   <span class="stringliteral">&quot;dbhost.qdecoder.org&quot;</span>, 3306, <span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;secret&quot;</span>,
                   <span class="stringliteral">&quot;sampledb&quot;</span>, <span class="keyword">true</span>);
   <span class="keywordflow">if</span> (db == NULL) {
     printf(<span class="stringliteral">&quot;ERROR: Not supported database type.\n&quot;</span>);
     <span class="keywordflow">return</span> -1;
   }
</pre></div> 
</div>
</div>
<a class="anchor" id="ae90a2206952d27df4a58995628741134"></a><!-- doxytag: member="qdatabase.c::open_" ref="ae90a2206952d27df4a58995628741134" args="(qdb_t *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool open_ </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;open(): Connect to database server </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful, otherwise returns false. </dd></dl>

</div>
</div>
<a class="anchor" id="a89fc888110ad23e6358d155e2c9b6a3b"></a><!-- doxytag: member="qdatabase.c::close_" ref="a89fc888110ad23e6358d155e2c9b6a3b" args="(qdb_t *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool close_ </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;close(): Disconnect from database server </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful, otherwise returns false.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Unless you call qdb-&gt;free(), qdb_t object will keep the database information. So you can re-connect to database using qdb-&gt;open(). </dd></dl>

</div>
</div>
<a class="anchor" id="a42069ce53c9e45b7283e9e44a7e021d9"></a><!-- doxytag: member="qdatabase.c::execute_update" ref="a42069ce53c9e45b7283e9e44a7e021d9" args="(qdb_t *db, const char *query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int execute_update </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>query</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a42069ce53c9e45b7283e9e44a7e021d9" title="qdb-&gt;execute_update(): Executes the update DML">execute_update()</a>: Executes the update DML </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>query string</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a number of affected rows </dd></dl>

</div>
</div>
<a class="anchor" id="a99e372b7dd8e2d9c2bb4f762cc8dd5aa"></a><!-- doxytag: member="qdatabase.c::execute_updatef" ref="a99e372b7dd8e2d9c2bb4f762cc8dd5aa" args="(qdb_t *db, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int execute_updatef </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a99e372b7dd8e2d9c2bb4f762cc8dd5aa" title="qdb-&gt;execute_updatef(): Executes the formatted update DML">execute_updatef()</a>: Executes the formatted update DML </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>query string format</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a number of affected rows, otherwise returns -1 </dd></dl>

</div>
</div>
<a class="anchor" id="abe4e5330b68b3fc9ff94b086939dba82"></a><!-- doxytag: member="qdatabase.c::execute_query" ref="abe4e5330b68b3fc9ff94b086939dba82" args="(qdb_t *db, const char *query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static qdbresult_t* execute_query </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>query</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#abe4e5330b68b3fc9ff94b086939dba82" title="qdb-&gt;execute_query(): Executes the query">execute_query()</a>: Executes the query </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>query string</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer of qdbresult_t if successful, otherwise returns NULL </dd></dl>

</div>
</div>
<a class="anchor" id="a6fde99c74f91137ac554244ac60344be"></a><!-- doxytag: member="qdatabase.c::execute_queryf" ref="a6fde99c74f91137ac554244ac60344be" args="(qdb_t *db, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static qdbresult_t* execute_queryf </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a6fde99c74f91137ac554244ac60344be" title="qdb-&gt;execute_queryf(): Executes the formatted query">execute_queryf()</a>: Executes the formatted query </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>query string format</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer of qdbresult_t if successful, otherwise returns NULL </dd></dl>

</div>
</div>
<a class="anchor" id="a2f27adbcda036187a4714e5bcd3a247e"></a><!-- doxytag: member="qdatabase.c::begin_tran" ref="a2f27adbcda036187a4714e5bcd3a247e" args="(qdb_t *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool begin_tran </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a2f27adbcda036187a4714e5bcd3a247e" title="qdb-&gt;begin_tran(): Start transaction">begin_tran()</a>: Start transaction </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful, otherwise returns false</dd></dl>
<div class="fragment"><pre class="fragment">   db-&gt;begin_tran(db);
   (... insert/update/<span class="keyword">delete</span> ...)
   db-&gt;commit(db);
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>This operation will raise lock if you compile "--enable-threadsafe" option to protect thread-safe operation. In this case, before calling qdb-&gt;<a class="el" href="qdatabase_8c.html#a3386b5894d03e2f48deecb0b7c0632ea" title="qdb-&gt;commit(): Commit transaction">commit()</a> or qdb-&gt;<a class="el" href="qdatabase_8c.html#a6ee4a69fbc4ecf80e795d6b6b3750ca7" title="qdb-&gt;rellback(): Roll-back and abort transaction">rollback()</a>, another threads will be hold. </dd></dl>

</div>
</div>
<a class="anchor" id="a3386b5894d03e2f48deecb0b7c0632ea"></a><!-- doxytag: member="qdatabase.c::commit" ref="a3386b5894d03e2f48deecb0b7c0632ea" args="(qdb_t *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool commit </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a3386b5894d03e2f48deecb0b7c0632ea" title="qdb-&gt;commit(): Commit transaction">commit()</a>: Commit transaction </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful, otherwise returns false </dd></dl>

</div>
</div>
<a class="anchor" id="a6ee4a69fbc4ecf80e795d6b6b3750ca7"></a><!-- doxytag: member="qdatabase.c::rollback" ref="a6ee4a69fbc4ecf80e795d6b6b3750ca7" args="(qdb_t *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool rollback </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;rellback(): Roll-back and abort transaction </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful, otherwise returns false </dd></dl>

</div>
</div>
<a class="anchor" id="a5dc988c35746fe8a792702523abc66b3"></a><!-- doxytag: member="qdatabase.c::set_fetchtype" ref="a5dc988c35746fe8a792702523abc66b3" args="(qdb_t *db, bool fromdb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool set_fetchtype </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>fromdb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a5dc988c35746fe8a792702523abc66b3" title="qdb-&gt;set_fetchtype(): Set result fetching type">set_fetchtype()</a>: Set result fetching type </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fromdb</em>&nbsp;</td><td>false for storing the results to client (default mode), true for fetching directly from server,</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful otherwise returns false</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If qdb-&gt;set_fetchtype(db, true) is called, the results does not actually read into the client. Instead, each row must be retrieved individually by making calls to qdbresult-&gt;get_next(). This reads the result of a query directly from the server without storing it in local buffer, which is somewhat faster and uses much less memory than default behavior qdb-&gt;set_fetchtype(db, false). </dd></dl>

</div>
</div>
<a class="anchor" id="a0598e067ed6b749c9df042cd7bc83f5c"></a><!-- doxytag: member="qdatabase.c::get_conn_status" ref="a0598e067ed6b749c9df042cd7bc83f5c" args="(qdb_t *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool get_conn_status </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a0598e067ed6b749c9df042cd7bc83f5c" title="qdb-&gt;get_conn_status(): Get last connection status">get_conn_status()</a>: Get last connection status </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the connection flag is set to alive, otherwise returns false</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function just returns the the connection status flag. </dd></dl>

</div>
</div>
<a class="anchor" id="a998f1143e4b00ff847f120e34a0efc0d"></a><!-- doxytag: member="qdatabase.c::ping" ref="a998f1143e4b00ff847f120e34a0efc0d" args="(qdb_t *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool ping </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a998f1143e4b00ff847f120e34a0efc0d" title="qdb-&gt;ping(): Checks whether the connection to the server is working.">ping()</a>: Checks whether the connection to the server is working. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if connection is alive, false if connection is not available and failed to reconnect</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If the connection has gone down, an attempt to reconnect. </dd></dl>

</div>
</div>
<a class="anchor" id="a11f5b1c5de493c27e1d396f7593408a0"></a><!-- doxytag: member="qdatabase.c::get_error" ref="a11f5b1c5de493c27e1d396f7593408a0" args="(qdb_t *db, unsigned int *errorno)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* get_error </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>errorno</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;<a class="el" href="qdatabase_8c.html#a11f5b1c5de493c27e1d396f7593408a0" title="qdb-&gt;get_error(): Get error number and message">get_error()</a>: Get error number and message </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errorno</em>&nbsp;</td><td>if not NULL, error number will be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer of error message string</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Do not free returned error message </dd></dl>

</div>
</div>
<a class="anchor" id="afe5578f18ea12e68e96a80b91bd9be9d"></a><!-- doxytag: member="qdatabase.c::free_" ref="afe5578f18ea12e68e96a80b91bd9be9d" args="(qdb_t *db)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void free_ </td>
          <td>(</td>
          <td class="paramtype">qdb_t *&nbsp;</td>
          <td class="paramname"> <em>db</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdb-&gt;free(): De-allocate qdb_t structure </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>db</em>&nbsp;</td><td>a pointer of qdb_t object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3c32ab62afb92fb6a55cfaff7c92bf42"></a><!-- doxytag: member="qdatabase.c::_resultGetStr" ref="a3c32ab62afb92fb6a55cfaff7c92bf42" args="(qdbresult_t *result, const char *field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* _resultGetStr </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>field</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;get_str(): Get the result as string by field name </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>column name</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a string pointer if successful, otherwise returns NULL.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Do not free returned string. </dd></dl>

</div>
</div>
<a class="anchor" id="ae3559441aaa0ae5f19965612dccca8d5"></a><!-- doxytag: member="qdatabase.c::_resultGetStrAt" ref="ae3559441aaa0ae5f19965612dccca8d5" args="(qdbresult_t *result, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* _resultGetStrAt </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;get_str_at(): Get the result as string by column number </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idx</em>&nbsp;</td><td>column number (first column is 1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a string pointer if successful, otherwise returns NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="aa7608c9e6913b4d3c71d62cd43073fd1"></a><!-- doxytag: member="qdatabase.c::_resultGetInt" ref="aa7608c9e6913b4d3c71d62cd43073fd1" args="(qdbresult_t *result, const char *field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int _resultGetInt </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>field</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;get_int(): Get the result as integer by field name </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>field</em>&nbsp;</td><td>column name</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a integer converted value </dd></dl>

</div>
</div>
<a class="anchor" id="a6b5beda54ba78647276bc180f65138ca"></a><!-- doxytag: member="qdatabase.c::_resultGetIntAt" ref="a6b5beda54ba78647276bc180f65138ca" args="(qdbresult_t *result, int idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int _resultGetIntAt </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;get_int_at(): Get the result as integer by column number </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idx</em>&nbsp;</td><td>column number (first column is 1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a integer converted value </dd></dl>

</div>
</div>
<a class="anchor" id="aeb86d8858bb8ea5dd06e052f8f3e9a09"></a><!-- doxytag: member="qdatabase.c::_resultGetNext" ref="aeb86d8858bb8ea5dd06e052f8f3e9a09" args="(qdbresult_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool _resultGetNext </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;get_next(): Retrieves the next row of a result set </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful, false if no more rows are left </dd></dl>

</div>
</div>
<a class="anchor" id="a95d88451db51492ae6122701ce56b94d"></a><!-- doxytag: member="qdatabase.c::result_get_cols" ref="a95d88451db51492ae6122701ce56b94d" args="(qdbresult_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int result_get_cols </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;get_cols(): Get the number of columns in the result set </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of columns in the result set </dd></dl>

</div>
</div>
<a class="anchor" id="a26f8b55348c57f467d64c002ab306ff6"></a><!-- doxytag: member="qdatabase.c::result_get_rows" ref="a26f8b55348c57f467d64c002ab306ff6" args="(qdbresult_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int result_get_rows </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;get_rows(): Get the number of rows in the result set </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of rows in the result set </dd></dl>

</div>
</div>
<a class="anchor" id="a396a7328f7fb499f89c2652598185dc8"></a><!-- doxytag: member="qdatabase.c::result_get_row" ref="a396a7328f7fb499f89c2652598185dc8" args="(qdbresult_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int result_get_row </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;get_row(): Get the current row number </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>current fetching row number of the result set</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This number is sequencial counter which is started from 1. </dd></dl>

</div>
</div>
<a class="anchor" id="a4ab66a07fa82b706895e1b2c19fcd501"></a><!-- doxytag: member="qdatabase.c::result_free" ref="a4ab66a07fa82b706895e1b2c19fcd501" args="(qdbresult_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void result_free </td>
          <td>(</td>
          <td class="paramtype">qdbresult_t *&nbsp;</td>
          <td class="paramname"> <em>result</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>qdbresult-&gt;free(): De-allocate the result </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>a pointer of qdbresult_t </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
<a href="http://www.qdecoder.org/">The qDecoder Project</a>.
Tue Jun 12 2012 07:35:13
</small></address>
</body>
</html>
